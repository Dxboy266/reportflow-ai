# ğŸš€ éƒ¨ç½²ä¸Šçº¿æŒ‡å— (Deployment Guide)

æ­å–œæ‚¨å®Œæˆäº† ReportFlow AI çš„å¼€å‘ï¼æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å°†åº”ç”¨éƒ¨ç½²åˆ°çº¿ä¸ŠæœåŠ¡å™¨ï¼Œè®©æ‚¨å¯ä»¥éšæ—¶éšåœ°è®¿é—®ã€‚

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

ç”±äºæœ¬é¡¹ç›®ä½¿ç”¨ **æœ¬åœ° JSON æ–‡ä»¶** (`data/` ç›®å½•) æ¥å­˜å‚¨æ—¥æŠ¥åŠå‘¨æŠ¥æ•°æ®ï¼Œå› æ­¤**ä¸é€‚åˆ**éƒ¨ç½²åœ¨ Vercelã€Netlify ç­‰ Serverless å¹³å°ï¼ˆä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼‰ã€‚

**æ¨èæ–¹æ¡ˆ**ï¼šé˜¿é‡Œäº‘ / è…¾è®¯äº‘ **è½»é‡åº”ç”¨æœåŠ¡å™¨** (Lightweight Server)ã€‚
**æ¨èé•œåƒ**ï¼šNode.js é•œåƒ (è‡ªå¸¦ Node ç¯å¢ƒï¼Œå¼€ç®±å³ç”¨)ã€‚

---

## ğŸ› ï¸ ç¬¬ä¸€æ­¥ï¼šä»£ç ä¸Šä¼ 

å»ºè®®ä½¿ç”¨ Git è¿›è¡Œä»£ç åŒæ­¥ï¼ˆæ¨èä½¿ç”¨ Giteeï¼Œå›½å†…é€Ÿåº¦å¿«ï¼‰ã€‚

1. **é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.gitignore` æ–‡ä»¶** (å¦‚æœå°šæœªåˆ›å»º)ï¼Œå†…å®¹å¦‚ä¸‹ï¼š
   ```text
   node_modules/
   .env
   .DS_Store
   logs/
   ```

2. **æäº¤ä»£ç åˆ°è¿œç¨‹ä»“åº“**ï¼š
   ```bash
   git init
   git add .
   git commit -m "Ready for deploy"
   # å…³è”æ‚¨çš„è¿œç¨‹ä»“åº“
   git remote add origin https://gitee.com/æ‚¨çš„ç”¨æˆ·å/project-name.git
   git push -u origin master
   ```

---

## ğŸ–¥ï¸ ç¬¬äºŒæ­¥ï¼šæœåŠ¡å™¨æ“ä½œ

1. **ç™»å½•æœåŠ¡å™¨**ï¼š
   ä½¿ç”¨ SSH å·¥å…· (Terminal, Xshell, FinalShell) æˆ–äº‘å‚å•†æ§åˆ¶å°çš„ "è¿œç¨‹è¿æ¥"ã€‚

2. **æ‹‰å–ä»£ç **ï¼š
   ```bash
   # è¿›å…¥ç›®å½• (é€šå¸¸åœ¨ /home æˆ– /www/wwwroot)
   cd /home
   
   # å…‹éš†é¡¹ç›®
   git clone https://gitee.com/æ‚¨çš„ç”¨æˆ·å/project-name.git
   
   # è¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹
   cd project-name
   ```

3. **å®‰è£…ä¾èµ–**ï¼š
   ```bash
   # å®‰è£…ç”Ÿäº§ç¯å¢ƒä¾èµ–
   npm install --production
   ```

---

## ğŸš€ ç¬¬ä¸‰æ­¥ï¼šå¯åŠ¨ä¸ä¿æ´» (ä½¿ç”¨ PM2)

æˆ‘ä»¬ä½¿ç”¨ `PM2` æ¥ç®¡ç† Node.js æœåŠ¡ï¼Œå®ƒå¯ä»¥è®©åº”ç”¨åœ¨åå°è¿è¡Œï¼Œå¹¶åœ¨å´©æºƒæˆ–é‡å¯æœåŠ¡å™¨åè‡ªåŠ¨é‡å¯ã€‚

1. **å®‰è£… PM2** (å¦‚æœæœåŠ¡å™¨æ²¡è‡ªå¸¦)ï¼š
   ```bash
   npm install -g pm2
   ```

2. **å¯åŠ¨åº”ç”¨**ï¼š
   ```bash
   # å¯åŠ¨ server/index.js å¹¶å‘½åä¸º report-app
   pm2 start server/index.js --name "report-app"
   ```

3. **ä¿å­˜å½“å‰è¿›ç¨‹åˆ—è¡¨** (ç¡®ä¿é‡å¯åè‡ªåŠ¨å¯åŠ¨)ï¼š
   ```bash
   pm2 save
   pm2 startup
   # (æ‰§è¡Œ pm2 startup åï¼Œå®ƒä¼šæç¤ºæ‚¨å¤åˆ¶ä¸€è¡Œå‘½ä»¤è¿è¡Œï¼Œè¯·ç…§åš)
   ```

4. **æŸ¥çœ‹çŠ¶æ€**ï¼š
   ```bash
   pm2 list    # æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
   pm2 logs    # æŸ¥çœ‹è¿è¡Œæ—¥å¿—
   ```

---

## ğŸŒ ç¬¬å››æ­¥ï¼šè®¿é—®åº”ç”¨

æ‚¨çš„åº”ç”¨é»˜è®¤è¿è¡Œåœ¨ **3000** ç«¯å£ã€‚

1. **å¼€æ”¾é˜²ç«å¢™ç«¯å£**ï¼š
   å»äº‘æœåŠ¡å™¨æ§åˆ¶å° -> é˜²ç«å¢™/å®‰å…¨ç»„ -> æ·»åŠ è§„åˆ™ -> **å¼€æ”¾ TCP 3000 ç«¯å£**ã€‚

2. **è®¿é—®**ï¼š
   åœ¨æµè§ˆå™¨è¾“å…¥ï¼š`http://æ‚¨çš„æœåŠ¡å™¨å…¬ç½‘IP:3000`

---

## ğŸ”„ åç»­æ›´æ–°

å½“æ‚¨åœ¨æœ¬åœ°ä¿®æ”¹äº†ä»£ç åï¼š

1. **æœ¬åœ°**ï¼š
   ```bash
   git add .
   git commit -m "update feature"
   git push
   ```

2. **æœåŠ¡å™¨**ï¼š
   ```bash
   cd /home/project-name
   git pull            # æ‹‰å–æœ€æ–°ä»£ç 
   npm install         # å¦‚æœæœ‰æ–°ä¾èµ–
   pm2 restart report-app  # é‡å¯æœåŠ¡
   ```

---

## âš ï¸ æ•°æ®å¤‡ä»½æç¤º

æ‚¨çš„æ•°æ®éƒ½åœ¨æœåŠ¡å™¨çš„ `data/` ç›®å½•ä¸‹ã€‚å»ºè®®å®šæœŸå¤‡ä»½è¯¥æ–‡ä»¶å¤¹ï¼š
```bash
# æ‰“åŒ…å¤‡ä»½ data ç›®å½•
tar -czvf backup_data_2026.tar.gz data/
```
